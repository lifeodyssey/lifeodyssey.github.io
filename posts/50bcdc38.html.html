<!DOCTYPE html><html class="font-sans scroll-smooth" lang=zh-CN><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,viewport-fit=cover" name=viewport><link href=/icons/favicon.svg rel=icon type=image/svg+xml><title>pandas基础 | 乔克叔叔的床边故事</title><meta content=其实我一点儿都不想用pandas的dataframe，总感觉这个东西很难用，也许是我的水平还没达到。但是好多时候读写实验室的excel和输出成excel又必须用这个，之前用的seaborn也是基于pandas的，那就再把基础操作复习一下。读... name=description><meta content=周大侠 name=author><meta content="Astro v5.13.7" name=generator><meta content="oklch(96% 0.005 298)" name=theme-color><link href=/fonts/EarlySummer-VF-Split/EarlySummer-VF-Subset.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Snell-Black-SF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Snell-Bold-SF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/STIX-VF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/STIX-Italic-VF.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/_astro/katex.min.COXD5gRV.css rel=stylesheet media=print onload="this.media=&#34;all&#34;"><link href=https://lifeodyssey.github.io/posts/50bcdc38.html.html rel=canonical><link href=/sitemap-index.xml rel=sitemap><link href=/rss.xml rel=alternate type=application/rss+xml title="RSS Feed"><link href=/atom.xml rel=alternate type=application/atom+xml title="Atom Feed"><link href=https://lifeodyssey.github.io rel=alternate hreflang=zh><link href=https://lifeodyssey.github.io/en/ rel=alternate hreflang=en><link href=https://lifeodyssey.github.io/ja/ rel=alternate hreflang=ja><meta content=article property=og:type><meta content=https://lifeodyssey.github.io/posts/50bcdc38.html.html property=og:url><meta content="pandas基础 | 乔克叔叔的床边故事" property=og:title><meta content=其实我一点儿都不想用pandas的dataframe，总感觉这个东西很难用，也许是我的水平还没达到。但是好多时候读写实验室的excel和输出成excel又必须用这个，之前用的seaborn也是基于pandas的，那就再把基础操作复习一下。读... property=og:description><meta content=https://lifeodyssey.github.io/og/50bcdc38.png property=og:image><meta content=summary_large_image name=twitter:card><meta content=true name=astro-view-transitions-enabled><meta content=none name=astro-view-transitions-fallback><script type=module src=/_astro/ClientRouter.astro_astro_type_script_index_0_lang.1k2cUud7.js></script><script>!function(){function e(e=document){const t=function(){const e=localStorage.getItem("theme");return!!e&&"dark"===e}();e.documentElement.classList.toggle("dark",t);const n=e.head.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",t?"oklch(22% 0.005 298)":"oklch(96% 0.005 298)")}function t(e=document){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches||!("startViewTransition"in e);e.documentElement.classList.toggle("reduce-motion",t)}document.addEventListener("astro:before-swap",(({newDocument:n})=>{e(n),t(n)})),e(),t()}()</script><link href=/_astro/_about_.Dzb1Me_E.css rel=stylesheet><link href=/_astro/_posts_slug_.CM85RmC-.css rel=stylesheet><script type=module src=/_astro/page.BNYwb576.js></script><script>!function(t,e,n,r){(window.crossOriginIsolated||navigator.serviceWorker)&&((r=t[e]=Object.assign(t[e]||{},{lib:"/~partytown/",debug:!1}))[n]=(r[n]||[]).concat(["dataLayer.push","gtag"]))}(window,"partytown","forward");const tp={preserveBehavior:!1},ep=t=>{if("string"==typeof t)return[t,tp];const[e,n=tp]=t;return[e,{...tp,...n}]},n=Object.freeze((()=>{const t=new Set;let e=[];do{Object.getOwnPropertyNames(e).forEach((n=>{"function"==typeof e[n]&&t.add(n)}))}while((e=Object.getPrototypeOf(e))!==Object.prototype);return Array.from(t)})());!function(t,e,r,o,i,a,s,c,d,p,l=t,u){function f(){u||(u=1,"/"==(s=(a.lib||"/~partytown/")+(a.debug?"debug/":""))[0]&&(d=e.querySelectorAll('script[type="text/partytown"]'),o!=t?o.dispatchEvent(new CustomEvent("pt1",{detail:t})):(c=setTimeout(w,(null==a?void 0:a.fallbackTimeout)||1e4),e.addEventListener("pt0",h),i?y(1):r.serviceWorker?r.serviceWorker.register(s+(a.swPath||"partytown-sw.js"),{scope:s}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):w())))}function y(n){p=e.createElement(n?"script":"iframe"),t._pttab=Date.now(),n||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=s+"partytown-"+(n?"atomics.js?v=0.11.1":"sandbox-sw.html?"+t._pttab),e.querySelector(a.sandboxParent||"body").appendChild(p)}function w(n,r){for(h(),o==t&&(a.forward||[]).map((function(e){const[n]=ep(e);delete t[n.split(".")[0]]})),n=0;n<d.length;n++)(r=e.createElement("script")).innerHTML=d[n].innerHTML,r.nonce=a.nonce,e.head.appendChild(r);p&&p.parentNode.removeChild(p)}function h(){clearTimeout(c)}a=t.partytown||{},o==t&&(a.forward||[]).map((function(e){const[r,{preserveBehavior:o}]=ep(e);l=t,r.split(".").map((function(e,r,i){var a;l=l[i[r]]=r+1<i.length?l[i[r]]||(a=i[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(o){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,i);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(i,arguments),n}})()}))})),"complete"==e.readyState?f():(t.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f))}(window,document,navigator,top,window.crossOriginIsolated),document.addEventListener("astro:before-swap",(t=>{let e=document.body.querySelector("iframe[src*='/~partytown/']");e&&t.newDocument.body.append(e)}))</script><style>[data-astro-transition-scope=astro-va26yt7w-1]{view-transition-name:post-50bcdc38-zh}@layer astro{::view-transition-old(post-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(post-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(post-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(post-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-va26yt7w-1],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-va26yt7w-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style><style>[data-astro-transition-scope=astro-aqc54ihn-2]{view-transition-name:time-50bcdc38-zh}@layer astro{::view-transition-old(time-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(time-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(time-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(time-50bcdc38-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-aqc54ihn-2],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-aqc54ihn-2]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style><style>[data-astro-transition-scope=astro-wif6pdce-3]{view-transition-name:site-title-zh}@layer astro{::view-transition-old(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(site-title-zh){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-wif6pdce-3],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-wif6pdce-3]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style></head><body><div class="w-full max-w-205.848 min-h-dvh min-h-vh mx-auto" lg="mx-[max(5.75rem,calc(50vw-34.25rem))] my-20 max-w-[min(calc(75vw-16rem),44rem)] min-h-full p-0" p="x-[min(7.25vw,3.731rem)] y-10"><header class="cjk:tracking-0.02em lg:uno-desktop-column lg:top-20 mb-10.8"><h2 class="c-secondary font-bold font-title lg:c-primary lg:mb-1.8 lg:mt-0 lg:text-9 mb-2.8 mt-3 text-5.375"><div class="inline-block box-content pr-1" data-astro-transition-scope=astro-wif6pdce-3 data-disable-theme-transition><a href=/ id=site-title-link>乔克叔叔的床边故事</a></div></h2></header><nav aria-label="Site Navigation" class="hidden cjk:tracking-0.02em font-navbar font-semibold leading-2.45em lg:block lg:bottom-[min(9.04rem+3.85vw,12.5rem)] lg:text-4 lg:uno-desktop-column mb-10.5 text-3.6"><ul><li><a href=/ class="c-primary after:bottom-0.7em font-bold highlight-static">文章</a></li><li><a href=/tags/ class="highlight-hover hover:c-primary after:bottom-0.7em hover:font-bold transition-[colors,font-weight]">标签</a></li><li><a href=/about/ class="highlight-hover hover:c-primary after:bottom-0.7em hover:font-bold transition-[colors,font-weight]">关于</a></li><li><a href=/search/ class="highlight-hover hover:c-primary after:bottom-0.7em hover:font-bold transition-[colors,font-weight]">Search</a></li></ul></nav><main class=mb-10><article class=heti><div class=relative><button aria-label="Go back" class=hidden id=back-button lg="absolute left--10 top-3.8 block aspect-square w-4.5 c-secondary/40 transition-colors ease-out hover:c-secondary/80 active:scale-90!"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d=M17.8.7L4,12l13.8,11.4.7-.9L7.2,12,18.5,1.5l-.7-.8Z /></svg></button><script type=module>function e(t){if(!(t.target instanceof Element?t.target:null)?.closest("#back-button"))return;if(window.history.length>1)return void window.history.back();const e=document.getElementById("site-title-link");e&&e.click()}document.addEventListener("click",e,{passive:!0})</script><h1 class=post-title><span data-astro-transition-scope=astro-va26yt7w-1 data-disable-theme-transition>pandas基础</span></h1></div><div class="c-primary block font-time mb-17.2" data-astro-transition-scope=astro-aqc54ihn-2 data-disable-theme-transition id=post-date><time datetime=2020-09-09>2020-09-09 </time><span class=ml-1.75>36 min</span></div><div class="2xl:bg-secondary/0 2xl:border-none 2xl:fixed 2xl:left-0 2xl:max-w-[min(calc(50vw-38rem),13rem)] 2xl:top-44.5 bg-secondary/5 mb-6 uno-round-border" data-astro-cid-v5otsao3 id=toc-container><input data-astro-cid-v5otsao3 hidden id=toc-toggle type=checkbox><div class="w-full h-12 relative" data-astro-cid-v5otsao3><label class="flex absolute inset-0 items-center 2xl:c-secondary/40 2xl:ease-out 2xl:flex 2xl:hover:c-secondary/80 2xl:static 2xl:transition-colors cursor-pointer" data-astro-cid-v5otsao3 for=toc-toggle><span data-astro-cid-v5otsao3 id=toc-mobile-text>目录</span><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24" class="ml-4 2xl:active:scale-90! 2xl:block 2xl:mt-4 2xl:origin-center aspect-square hidden w-4.2" data-astro-cid-v5otsao3=true id=toc-desktop-icon><path d="M22.2 2.3H1.8V4h19.9zM22.2 20H1.8v1.7h19.9zM15.5 11.2H1.8v1.6H15z"/></svg></label></div><div id=toc-accordion-wrapper data-astro-cid-v5otsao3><nav aria-label="Table of Contents" data-astro-cid-v5otsao3 id=toc-accordion-content><ul data-astro-cid-v5otsao3 id=toc-links-list><li class=ml-0 data-astro-cid-v5otsao3><a href=#数据读写 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>数据读写</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#sql class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>sql</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#excel class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>excel</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#csv class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>csv</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#txt class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>txt</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#创建 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>创建</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#认识索引 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>认识索引</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#建立索引 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>建立索引</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#重置索引 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>重置索引</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#索引类型 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>索引类型</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#数字索引-numeric-index class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>数字索引 Numeric Index</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#类别索引-categoricalindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>类别索引 CategoricalIndex</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#间隔索引-intervalindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>间隔索引 IntervalIndex</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#多层索引-multiindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>多层索引 MultiIndex</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#时间索引-datetimeindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>时间索引 DatetimeIndex</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#时间差-timedeltaindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>时间差 TimedeltaIndex</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#周期索引-periodindex class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>周期索引 PeriodIndex</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#索引对象 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>索引对象</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#创建对象 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>创建对象</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#查看 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>查看</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#属性 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>属性</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#操作 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>操作</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#索引重命名 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>索引重命名</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#索引名重命名 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>索引名重命名</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#部分示例 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>部分示例</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#数据检查 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>数据检查</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#查看头部-dfhead class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>查看头部 df.head()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#查看尾部-dftail class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>查看尾部 df.tail()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#查看样本-dfsample class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>查看样本 df.sample()</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#操作列 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>操作列</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#选择行列部分 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>选择行列部分</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#切片- class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>切片 []</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#按标签-loc class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>按标签 .loc</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#按位置-iloc class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>按位置 .iloc</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#取具体值-at class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>取具体值 .at</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#表达式筛选 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>表达式筛选</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#函数筛选 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>函数筛选</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#where-和-mask class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>where 和 mask</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#query class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>query</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#filter class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>filter</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#新增列 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>新增列</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#新增行 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>新增行</a></li><li class=ml-0 data-astro-cid-v5otsao3><a href=#合并 class="highlight-hover no-heti toc-links-h2" data-astro-cid-v5otsao3>合并</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#append-vs-concat class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>append() Vs. concat()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#concat-vs-merge class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>concat() Vs. merge()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#join-vs-concat class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>join() Vs. concat()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#append-concat-join和merge总结 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>append(), concat(), join()和merge()总结</a></li><li class=ml-8 data-astro-cid-v5otsao3><a href=#append class="highlight-hover no-heti toc-links-h4" data-astro-cid-v5otsao3>append()</a></li><li class=ml-8 data-astro-cid-v5otsao3><a href=#concat class="highlight-hover no-heti toc-links-h4" data-astro-cid-v5otsao3>concat()</a></li><li class=ml-8 data-astro-cid-v5otsao3><a href=#join class="highlight-hover no-heti toc-links-h4" data-astro-cid-v5otsao3>join()</a></li><li class=ml-8 data-astro-cid-v5otsao3><a href=#merge class="highlight-hover no-heti toc-links-h4" data-astro-cid-v5otsao3>merge()</a></li><li class=ml-4 data-astro-cid-v5otsao3><a href=#merge_order函数 class="highlight-hover no-heti toc-links-h3" data-astro-cid-v5otsao3>merge_order()函数</a></li></ul></nav></div></div><script type=module>let s=null,i=null;function g(){if(!(window.innerWidth>=1536))return;const t=document.getElementById("toc-accordion-content");if(!t)return;const e=t.getElementsByTagName("a");if(0===e.length)return;const n=Array.from(e,(t=>t)),o=n.some((t=>t.classList.contains("toc-links-h2")))?"toc-links-h2":"toc-links-h3",c=new Map;n.forEach((t=>{const e=t.getAttribute("href")?.substring(1);e&&c.set(e,t)}));let r=null;function l(t){t!==r&&(n.forEach((t=>{t.classList.remove("toc-link-active")})),t.classList.add("toc-link-active"),t.classList.contains(o)||function(t){for(let e=n.indexOf(t)-1;e>=0;e--){const t=n[e];if(t.classList.contains(o)){t.classList.add("toc-link-active");break}}}(t),r=t,t.scrollIntoView({behavior:"smooth",block:"nearest"}))}s=new IntersectionObserver((t=>{const e=t.find((t=>t.isIntersecting))?.target?.id;if(e){const t=c.get(e);t&&l(t)}}),{rootMargin:"0% 0% -66% 0%",threshold:[.4]}),Array.from(document.querySelectorAll("h2, h3, h4")).filter((t=>t.id&&"footnotes"!==t.id)).forEach((t=>s?.observe(t)));const a=document.getElementById("post-copyright");a&&(i=new IntersectionObserver((t=>{!t[0].isIntersecting&&t[0].boundingClientRect.top<0&&(n.forEach((t=>t.classList.remove("toc-link-active"))),r=null)}),{rootMargin:"0px 0px 0px 0px",threshold:0}),i?.observe(a),n.length>0&&l(n[0]))}function m(){s?.disconnect(),i?.disconnect(),s=null,i=null}document.addEventListener("astro:after-swap",g),document.addEventListener("astro:before-swap",m),g()</script><div id=post-content><p>其实我一点儿都不想用pandas的dataframe，总感觉这个东西很难用，也许是我的水平还没达到。但是好多时候读写实验室的excel和输出成excel又必须用这个，之前用的seaborn也是基于pandas的，那就再把基础操作复习一下。</p><h1 id=读写与创建>读写与创建<a href=#读写与创建 class=heading-anchor-link aria-label="Link to 读写与创建"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h1><h2 id=数据读写>数据读写<a href=#数据读写 class=heading-anchor-link aria-label="Link to 数据读写"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><h3 id=sql>sql<a href=#sql class=heading-anchor-link aria-label="Link to sql"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ul><li><strong>读取</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pandas </span><span style=color:#d73a49;--shiki-dark:#F97583>as</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>from</span><span style=color:#24292e;--shiki-dark:#E1E4E8> sqlalchemy </span><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> create_engine</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>db </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> create_engine(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"mysql+pymysql://用户名:用户密码@localhost:端口号（3306）/使用的数据库名?charset=utf8"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>sql </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF> "select * from text"</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_sql(sql, db, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"index"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># index_col设置索引列，默认自动生成索引</span></span></code></pre></div><ul><li><strong>写入</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>sql.to_sql(df, </span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'test'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>con</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>db,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                 if_exists</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"append"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#6a737d;--shiki-dark:#6A737D># 如果表存在：append追加 replace删除原表新建并插入 fail不插入</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                 index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#6a737d;--shiki-dark:#6A737D> # 设置df的索引不插入数据库</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>                 )</span></span></code></pre></div><h3 id=excel>excel<a href=#excel class=heading-anchor-link aria-label="Link to excel"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ul><li><strong>读取</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_excel(</span><span style=color:#d73a49;--shiki-dark:#F97583>r</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#032f62;--shiki-dark:#DBEDFF>file_path</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                   sheet_name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'指定sheet,默认第一个'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                   index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不读取excel中的索引，自动生成新索引</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                   index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 将第0列设置为索引</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                   header</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 将第n行设置为columns, 默认是0，可以设置为None（自动生成0-n的columns）</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                   usecols</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 只导入0, 2列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>                   )</span></span></code></pre></div><ul><li><strong>写入</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>按照不同sheet写入</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 创建表格</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>excelWriter </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.ExcelFile(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'file_path/test.xlsx'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 写入表格</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.to_excel(</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    excelWriter,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    sheet_name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    insex</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置df的索引不传入excel</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    encoding</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'utf-8'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定某列写入excel</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    na_rep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 缺失值处理（填充为0）</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    inf_rep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 无穷值处理（填充为0）</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 保存（不保存不生效）</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>excelWriter.save()</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>直接写入</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.to_excel(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'file_path/test.xlsx'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 参数：insex、encoding、columns、na_rep、inf_rep</span></span></code></pre></div><h3 id=csv>csv<a href=#csv class=heading-anchor-link aria-label="Link to csv"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ul><li><strong>读取</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read(</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    r</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#032f62;--shiki-dark:#DBEDFF>file_path/test</span><span style=color:#005cc5;--shiki-dark:#79B8FF>.</span><span style=color:#032f62;--shiki-dark:#DBEDFF>csv</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    sep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>""</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定分隔符，默认是逗号</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    nrows</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定读取行数</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    encoding</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'utf-8'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    engine</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'python'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 当路径存在中文会报错，加上这个即解决</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    usecols</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#6a737d;--shiki-dark:#6A737D># 仅导入0, 2列</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 将第0列设置为索引</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    header</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#6a737d;--shiki-dark:#6A737D> # 将第n行设置为columns, 默认是0，可以设置为None（自动生成0-n的columns）</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><ul><li><strong>写入</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.to_csv(</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    r</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#032f62;--shiki-dark:#DBEDFF>file_path/test</span><span style=color:#005cc5;--shiki-dark:#79B8FF>.</span><span style=color:#032f62;--shiki-dark:#DBEDFF>csv</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引列不写入</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定写入的列</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    sep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>','</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置分隔符（默认是逗号）</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    na_rep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 缺失值填充为0</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    encoding</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'utf-8'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>    #inf_rep=0 没有这个参数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h3 id=txt>txt<a href=#txt class=heading-anchor-link aria-label="Link to txt"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><ul><li><strong>读取</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.read_table(</span><span style=color:#d73a49;--shiki-dark:#F97583>r</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#032f62;--shiki-dark:#DBEDFF>file_path/test</span><span style=color:#005cc5;--shiki-dark:#79B8FF>.</span><span style=color:#032f62;--shiki-dark:#DBEDFF>txt</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>sep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D>#也可以用来读取csv文件</span></span></code></pre></div><ul><li><strong>写入</strong></li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.to_csv(</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>    r</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#032f62;--shiki-dark:#DBEDFF>file_path/test</span><span style=color:#005cc5;--shiki-dark:#79B8FF>.</span><span style=color:#032f62;--shiki-dark:#DBEDFF>csv</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引列不写入</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定写入的列</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    sep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>','</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置分隔符（默认是逗号）</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    na_rep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#6a737d;--shiki-dark:#6A737D># 缺失值填充为0</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>    encoding</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'utf-8'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>    #inf_rep=0 没有这个参数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><p>来源<a href=https://www.modb.pro/db/26894 rel="nofollow noopener noreferrer external" target=_blank>https://www.modb.pro/db/26894</a></p><h2 id=创建>创建<a href=#创建 class=heading-anchor-link aria-label="Link to 创建"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>最让我不爽的就是dataframe没有像np.zeros,np.ones这种根据已有的dataframe来初始化一个空dataframe.</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df_empty</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Dataframe(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'A'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'B'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'C'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'D'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span></code></pre></div><p>所以有一种办法就是把已有的datafram列名提取出来，然后再去创建。</p><h1 id=索引>索引<a href=#索引 class=heading-anchor-link aria-label="Link to 索引"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h1><p>Pandas 数据的索引就像一本书的目录，让我们很快地找到想要看的章节，作为大量数据，创建合理的具有业务意义的索引对我们分析数据至关重要。</p><h2 id=认识索引>认识索引<a href=#认识索引 class=heading-anchor-link aria-label="Link to 认识索引"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>下图是一个简单的 DataFrame 中索引的示例：</p><figure><img alt="pandas index" src=https://www.gairuo.com/file/pic/2020/04/pandas_index_01.jpg><figcaption>pandas index</figcaption></figure><p>其中：</p><ul><li>行索引是数据的索引，列索引指向的是一个 Series</li><li>DataFrame 的索引也是系列形成的 Series 的索引</li><li>建立索引让数据更加直观明确，如每行数据是针对一个国家的</li><li>建立索引方便数据处理</li><li>索引允许重复，但业务上一般不会让它重复</li></ul><p>有时一个行和列层级较多的数据会出现<a href=https://www.gairuo.com/p/pandas-multiIndex rel="nofollow noopener noreferrer external" target=_blank>多层索引</a> 的情况。</p><h2 id=建立索引>建立索引<a href=#建立索引 class=heading-anchor-link aria-label="Link to 建立索引"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>之前我们学习了加载数据生成 DataFrame 时可以指定索引</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>data </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF> 'https://www.gairuo.com/file/data/dataset/team.xlsx'</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_excel(data, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置索引为 name</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>      team  Q1  Q2  Q3  Q4</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>name</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>Liver    E  89  21  24  64</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>Arry     C  36  37  37  57</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>Ack      A  57  60  18  84</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>Eorge    C  93  96  71  78</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>Oah      D  65  49  61  86</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span></code></pre></div><p>如果加载时没有指定索引，我们可以使用 <code>df.set_index()</code> 指定：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置月份为索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'year'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置月份和年为多层索引</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>            sale</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>month year</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>1     2012    55</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>4     2014    40</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>      2013    84</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>10    2014    31</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Series([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(s) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定一个索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index([s, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'year'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定的索引和现有字段同时指定</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index([s, s</span><span style=color:#d73a49;--shiki-dark:#F97583>**</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 计算索引</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 其他的参数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>drop</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 保留原列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>append</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 保留原来的索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>inplace</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 建立索引并重写覆盖 df</span></span></code></pre></div><h2 id=重置索引>重置索引<a href=#重置索引 class=heading-anchor-link aria-label="Link to 重置索引"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>有时我们想取消已有的索引，以重新来过，可以使用 <code>df.reset_index()</code>：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.reset_index() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 清除索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>).reset_index() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 相当于啥也没干</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 删除原索引，month 列没了</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>).reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>drop</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df2.reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>inplace</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 覆盖使生效</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># year 一级索引取消</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'month'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'year'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]).reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df2.reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'class'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 同上使用层级索引名</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'class'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>col_level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 列索引</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 不存在层级名称的填入指定名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.reset_index(</span><span style=color:#e36209;--shiki-dark:#FFAB70>level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'class'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>col_level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>col_fill</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'species'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h2 id=索引类型>索引类型<a href=#索引类型 class=heading-anchor-link aria-label="Link to 索引类型"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>为了适应各种业务数据的处理，索引又针对各种类型数据定义了不同的索引类型：</p><h3 id=数字索引-numeric-index>数字索引 Numeric Index<a href=#数字索引-numeric-index class=heading-anchor-link aria-label="Link to 数字索引 Numeric Index"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>共有以下几种：</p><ul><li>RangeIndex: 单调整数范围的不可变索引。</li><li>Int64Index: int64类型，有序可切片集合的不可变ndarray。</li><li>UInt64Index: 无符号整数标签的</li><li>Float64Index: Float64 类型</li></ul><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.RangeIndex(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>100</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># RangeIndex(start=1, stop=100, step=2)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Int64Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'num'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># Int64Index([1, 2, 3, -4], dtype='int64', name='num')</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.UInt64Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># UInt64Index([1, 2, 3, 4], dtype='uint64')</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Float64Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1.2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2.3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># Float64Index([1.2, 2.3, 3.0, 4.0], dtype='float64')</span></span></code></pre></div><h3 id=类别索引-categoricalindex>类别索引 CategoricalIndex<a href=#类别索引-categoricalindex class=heading-anchor-link aria-label="Link to 类别索引 CategoricalIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>类别只能包含有限数量的（通常是固定的）可能值（类别）。 可以理解成枚举，比如性别只有男女，但在数据中每行都有，如果按文本处理会效率不高。类别的底层是 pandas.Categorical。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.CategoricalIndex([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># CategoricalIndex(['a', 'b', 'a', 'b'], categories=['a', 'b'], ordered=False, dtype='category')</span></span></code></pre></div><p>类别后边后有专门的讲解，只有在体量非常大的数据面前才能显示其优势。</p><h3 id=间隔索引-intervalindex>间隔索引 IntervalIndex<a href=#间隔索引-intervalindex class=heading-anchor-link aria-label="Link to 间隔索引 IntervalIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.interval_range(</span><span style=color:#e36209;--shiki-dark:#FFAB70>start</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>end</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>IntervalIndex([(0, 1], (1, 2], (2, 3], (3, 4], (4, 5]],</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>              closed='right',</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>              dtype='interval[int64]')</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span></code></pre></div><h3 id=多层索引-multiindex>多层索引 MultiIndex<a href=#多层索引-multiindex class=heading-anchor-link aria-label="Link to 多层索引 MultiIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>教程后边会有专门的讲解。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>arrays </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'red'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'blue'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'red'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'blue'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.MultiIndex.from_arrays(arrays, </span><span style=color:#e36209;--shiki-dark:#FFAB70>names</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'number'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'color'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>MultiIndex([(1,  'red'),</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>            (1, 'blue'),</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>            (2,  'red'),</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>            (2, 'blue')],</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>           names=['number', 'color'])</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>'''</span></span></code></pre></div><h3 id=时间索引-datetimeindex>时间索引 DatetimeIndex<a href=#时间索引-datetimeindex class=heading-anchor-link aria-label="Link to 时间索引 DatetimeIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 从一个日期连续到另一个日期</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.date_range(</span><span style=color:#e36209;--shiki-dark:#FFAB70>start</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1/1/2018'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>end</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1/08/2018'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 指定开始时间和周期</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.date_range(</span><span style=color:#e36209;--shiki-dark:#FFAB70>start</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1/1/2018'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>periods</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 以月为周期</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.period_range(</span><span style=color:#e36209;--shiki-dark:#FFAB70>start</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2017-01-01'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>end</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2018-01-01'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'M'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 周期嵌套</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.period_range(</span><span style=color:#e36209;--shiki-dark:#FFAB70>start</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Period(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2017Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>),</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                end</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Period(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2017Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>), </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'M'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h3 id=时间差-timedeltaindex>时间差 TimedeltaIndex<a href=#时间差-timedeltaindex class=heading-anchor-link aria-label="Link to 时间差 TimedeltaIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.TimedeltaIndex(</span><span style=color:#e36209;--shiki-dark:#FFAB70>data</span><span style=color:#d73a49;--shiki-dark:#F97583> =</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'06:05:01.000030'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'+23:59:59.999999'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>                         '22 day 2 min 3us 10ns'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'+23:29:59.999999'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#032f62;--shiki-dark:#9ECBFF>                         '+12:19:59.999999'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 使用 datetime</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.TimedeltaIndex([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1 days'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1 days, 00:00:05'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>                   np.timedelta64(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'D'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>),</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>                   datetime.timedelta(</span><span style=color:#e36209;--shiki-dark:#FFAB70>days</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>seconds</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)])</span></span></code></pre></div><h3 id=周期索引-periodindex>周期索引 PeriodIndex<a href=#周期索引-periodindex class=heading-anchor-link aria-label="Link to 周期索引 PeriodIndex"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>t </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.period_range(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2020-5-1 10:00:05'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>periods</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'S'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.PeriodIndex(t,</span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'S'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h2 id=索引对象>索引对象<a href=#索引对象 class=heading-anchor-link aria-label="Link to 索引对象"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>行和列的索引在 Pandas 里其实是一个 <code>Index</code> 对象，以下是创建一个 <code>index</code> 对象的方法：</p><h3 id=创建对象>创建对象<a href=#创建对象 class=heading-anchor-link aria-label="Link to 创建对象"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># Int64Index([1, 2, 3], dtype='int64')</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Index(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>list</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'abc'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># Index(['a', 'b', 'c'], dtype='object')</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 可以定义一相 name</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.Index([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'e'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'d'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'something'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h3 id=查看>查看<a href=#查看 class=heading-anchor-link aria-label="Link to 查看"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># RangeIndex(start=0, stop=4, step=1)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.columns</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># Index(['month', 'year', 'sale'], dtype='object')</span></span></code></pre></div><h3 id=属性>属性<a href=#属性 class=heading-anchor-link aria-label="Link to 属性"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>以下方法也适用于 <code>df.columns</code>, 因为都是 index 对象：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 属性</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.name </span><span style=color:#6a737d;--shiki-dark:#6A737D># 名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.array </span><span style=color:#6a737d;--shiki-dark:#6A737D># array 数组</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.dtype </span><span style=color:#6a737d;--shiki-dark:#6A737D># 数据类型</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.shape </span><span style=color:#6a737d;--shiki-dark:#6A737D># 形状</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.size </span><span style=color:#6a737d;--shiki-dark:#6A737D># 元素数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.values </span><span style=color:#6a737d;--shiki-dark:#6A737D># array 数组</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 其他，不常用</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.empty </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否为空</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_unique </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否不重复</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.names </span><span style=color:#6a737d;--shiki-dark:#6A737D># 名称列表</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_all_dates </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否全是日期时间</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.has_duplicates </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否有重复值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.values </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引的值 array</span></span></code></pre></div><h3 id=操作>操作<a href=#操作 class=heading-anchor-link aria-label="Link to 操作"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>以下方法也适用于 <code>df.columns</code>, 因为都是 index 对象：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 方法</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.astype(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'int64'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转换类型</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.isin() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否存在，见下方示例</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.rename(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'number'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 修改索引名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.nunique() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不重复值的数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.sort_values(</span><span style=color:#e36209;--shiki-dark:#FFAB70>ascending</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 排序,倒序</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.map(</span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x:x</span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'_'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># map 函数处理</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.str.replace(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'_'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># str 替换</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.str.split(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'_'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 分隔</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.to_list() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转为列表</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.to_frame(</span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转成 DataFrame</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.to_series() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转 series</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.to_numpy() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转为 numpy</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.unique() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 去重</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.value_counts() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 去重及数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.where(df.index</span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 筛选</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.rename(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'grade'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>inplace</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 重命名索引名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.rename([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'species'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'year'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 多层，重命名索引名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.max() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 最大值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.argmax() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 最大索引值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.any()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.all()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.T </span><span style=color:#6a737d;--shiki-dark:#6A737D># 转置，多层索引里很有用</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 其他，不常用</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.append(pd.Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 追加</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.repeat(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 重复几次</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.inferred_type </span><span style=color:#6a737d;--shiki-dark:#6A737D># 推测数据类型</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.hasnans </span><span style=color:#6a737d;--shiki-dark:#6A737D># 有没有空值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_monotonic_decreasing </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否单调递减</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_monotonic </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否单调递增</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_monotonic_increasing </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否单调递增</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.nbytes </span><span style=color:#6a737d;--shiki-dark:#6A737D># 基础数据中的字节数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.ndim </span><span style=color:#6a737d;--shiki-dark:#6A737D># 维度数，维数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.nlevels </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引层级数，通常为 1</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.min() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 最小值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.argmin() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 最小索引值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.argsort() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 顺序值组成的数组</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.asof(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 返回最近的索引</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># numpy dtype or pandas type</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.astype(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'int64'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>copy</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 深拷贝</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 拷贝</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.copy(</span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'new'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>deep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>dtype</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'int64'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.delete(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 删除指定位置</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 对比不同</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.difference(pd.Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]), </span><span style=color:#e36209;--shiki-dark:#FFAB70>sort</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.drop(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>errors</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ignore'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 删除</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.drop_duplicates(</span><span style=color:#e36209;--shiki-dark:#FFAB70>keep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'first'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 去重值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.droplevel(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 删除层级</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.dropna(</span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'all'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 删除空值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.duplicated(</span><span style=color:#e36209;--shiki-dark:#FFAB70>keep</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'first'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 重复值在结果数组中为True</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.equals(df.index) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 与另外一个索引对象是否相同</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.factorize() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 分解成（array:0-n, Index）</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.fillna(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, {</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'nan'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>}) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 填充空值</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 字符列表, 把 name 值加在第一位, 每个值加10</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.format(</span><span style=color:#e36209;--shiki-dark:#FFAB70>name</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>formatter</span><span style=color:#d73a49;--shiki-dark:#F97583>=lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> x:x</span><span style=color:#d73a49;--shiki-dark:#F97583>+</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 返回一个 array, 指定值的索引位数组，不在的为 -1</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.get_indexer([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>9</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 获取 指定层级 Index 对象</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.get_level_values(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 指定索引的位置，见示例</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.get_loc(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.insert(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'f'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 在索引位 2 插入 f</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.intersection(df.index) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 交集</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_(df.index) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 类似 is 检查</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_categorical() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否分类数据</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_type_compatible(df.index) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 类型是否兼容</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.is_type_compatible(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 类型是否兼容</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.isna() </span><span style=color:#6a737d;--shiki-dark:#6A737D># array 是否为空</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.isnull() </span><span style=color:#6a737d;--shiki-dark:#6A737D># array 是否缺失值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.join(df.index, </span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'left'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 连接</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.notna() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否不存在的值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.notnull() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是否不存在的值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.ravel() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 展平值的ndarray</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.reindex([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 新索引 (Index,array:0-n)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.searchsorted(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'f'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 如果插入这个值排序后在哪个索引位</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.searchsorted([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># array([0, 3]) 多个</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.set_names(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'quarter'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 设置索引名称</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.set_names(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'species'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>level</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.set_names([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'kind'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'year'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>inplace</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.shift(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>freq</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'D'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 日期索引向前移动 10 天</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx1.symmetric_difference(idx2) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 两个索引不同的内容</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx1.union(idx2) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 拼接</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.add_prefix(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'t_'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 表头加前缀</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.add_suffix(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'_d'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 表头加后缀</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.first_valid_index() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 第一个有值的索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.last_valid_index() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 最后一个有值的索引</span></span></code></pre></div><h2 id=索引重命名>索引重命名<a href=#索引重命名 class=heading-anchor-link aria-label="Link to 索引重命名"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>对行和列的索引名进行修改。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 一一对应修改列索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"A"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"a"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"B"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"c"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>})</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>str</span><span style=color:#24292e;--shiki-dark:#E1E4E8>.lower, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'columns'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 修改行索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename(</span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"x"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"y"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"z"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>})</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename({</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>}, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'index'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 修改数据类型</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename(</span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>str</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 重新修改索引</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>replacements </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> {l1:l2 </span><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> l1, l2 </span><span style=color:#d73a49;--shiki-dark:#F97583>in</span><span style=color:#005cc5;--shiki-dark:#79B8FF> zip</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(list1, list2)}</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename(replacements)</span></span></code></pre></div><h2 id=索引名重命名>索引名重命名<a href=#索引名重命名 class=heading-anchor-link aria-label="Link to 索引名重命名"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>注意，这是修改索引的名称，不是索引或者列名本身：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.rename_axis(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"animal"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引重命名</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename_axis([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"dow"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"hr"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 多层索引索引名修改</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename_axis(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'info'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"columns"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 修改行索引名</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 修改多层列索引名</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename_axis(</span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'A'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'B'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>})</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 修改多层列行索引名</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename_axis(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'s_name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'B'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>})</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.rename_axis(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>str</span><span style=color:#24292e;--shiki-dark:#E1E4E8>.upper) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 行索引名变大写</span></span></code></pre></div><h2 id=部分示例>部分示例<a href=#部分示例 class=heading-anchor-link aria-label="Link to 部分示例"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># idx.isin() 是否存在</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.isin(idx)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># array([False, False, False, False])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index.isin([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># array([ True,  True, False, False])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>midx </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.MultiIndex.from_arrays([[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>],</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>                                 [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'red'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'blue'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'green'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]],</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                                 names</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'number'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'color'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>midx.isin([(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'red'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>), (</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'red'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># array([ True, False, False])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dates </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2000-03-11'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2000-03-12'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2000-03-13'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dti </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.to_datetime(dates)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dti.isin([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2000-03-11'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># array([ True, False, False])</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># i.argsort() 排序</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 将对索引进行排序的整数索引，见下文示例</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'d'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'c'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>order </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> idx.argsort() </span><span style=color:#6a737d;--shiki-dark:#6A737D># array([1, 0, 3, 2])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx[order] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Index(['a', 'b', 'c', 'd'], dtype='object')</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># i.asof(2) 返回最近的索引, 支持日期，可实现找最近日期</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 从索引中返回标签；如果不存在，则返回前一个标签</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx2 </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx2.asof(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 3</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx2.asof(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 5</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>idx2.asof(</span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># nan</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># index.get_loc 指定索引的位置，见示例</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>unique_index </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>list</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'abc'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>unique_index.get_loc(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 1</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>monotonic_index </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>list</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'abbc'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>monotonic_index.get_loc(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># slice(1, 3, None)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>non_monotonic_index </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Index(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>list</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'abcb'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>))</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>non_monotonic_index.get_loc(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># array([False,  True, False,  True], dtype=bool)</span></span></code></pre></div><h1 id=查询与修改>查询与修改<a href=#查询与修改 class=heading-anchor-link aria-label="Link to 查询与修改"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h1><h2 id=数据检查>数据检查<a href=#数据检查 class=heading-anchor-link aria-label="Link to 数据检查"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>我们一拿到数据需要对数据有一个抽查，一方面是了解数据结构，另一方面随机检查一下数据的质量问题。常用的：</p><table><thead><tr><th>语法</th><th>操作</th><th>返回结果</th></tr></thead><tbody><tr><td><code>df.head(n)</code></td><td>查看 DataFrame 对象的前n行</td><td>DataFrame</td></tr><tr><td><code>df.tail(n)</code></td><td>查看 DataFrame 对象的最后n行</td><td>DataFrame</td></tr><tr><td><code>df.sample(n)</code></td><td>查看 n 个样本，随机</td><td>DataFrame</td></tr></tbody></table><p>以上都是选择整行。</p><h3 id=查看头部-dfhead>查看头部 df.head()<a href=#查看头部-dfhead class=heading-anchor-link aria-label="Link to 查看头部 df.head()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>每次加载数据后一般需要看一下头部数据</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.head()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>out:</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    name team  Q1  Q2  Q3  Q4</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>  Liver    E  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>89</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  21</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  24</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  64</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>   Arry    C  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>36</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  37</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  37</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  57</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>    Ack    A  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>57</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  60</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  18</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  84</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>  Eorge    C  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>93</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  96</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  71</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  78</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>    Oah    D  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>65</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  49</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  61</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  86</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 可指定数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.head(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>15</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h3 id=查看尾部-dftail>查看尾部 df.tail()<a href=#查看尾部-dftail class=heading-anchor-link aria-label="Link to 查看尾部 df.tail()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>查看最后的尾部数据。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.head()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>out:</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        name team  Q1  Q2  Q3  Q4</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>95</span><span style=color:#24292e;--shiki-dark:#E1E4E8>   Gabriel    C  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>48</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  59</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  87</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  74</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>96</span><span style=color:#24292e;--shiki-dark:#E1E4E8>   Austin7    C  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>21</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  31</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  30</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  43</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>97</span><span style=color:#24292e;--shiki-dark:#E1E4E8>  Lincoln4    C  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>98</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  93</span><span style=color:#005cc5;--shiki-dark:#79B8FF>   1</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  20</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>98</span><span style=color:#24292e;--shiki-dark:#E1E4E8>       Eli    E  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>11</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  74</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  58</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  91</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>99</span><span style=color:#24292e;--shiki-dark:#E1E4E8>       Ben    E  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>21</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  43</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  41</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  74</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 可指定数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.tail(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>15</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><h3 id=查看样本-dfsample>查看样本 df.sample()<a href=#查看样本-dfsample class=heading-anchor-link aria-label="Link to 查看样本 df.sample()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p><code>df.sample()</code> 会随机返回一条样本数据。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.sample()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>out:</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>     name team  Q1  Q2  Q3  Q4</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>79</span><span style=color:#24292e;--shiki-dark:#E1E4E8>  Tyler    A  </span><span style=color:#005cc5;--shiki-dark:#79B8FF>75</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  16</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  44</span><span style=color:#005cc5;--shiki-dark:#79B8FF>  63</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 可指定数量</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.sample(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>15</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><p>数据截取：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 去掉索引之前和之后的数据</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.truncate(</span><span style=color:#e36209;--shiki-dark:#FFAB70>before</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>after</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 只要索引 2-4</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.truncate(</span><span style=color:#e36209;--shiki-dark:#FFAB70>before</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"60"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>after</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"66"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.truncate(</span><span style=color:#e36209;--shiki-dark:#FFAB70>before</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"A"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>after</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"B"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"columns"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 选取列</span></span></code></pre></div><h2 id=操作列>操作列<a href=#操作列 class=heading-anchor-link aria-label="Link to 操作列"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>以下两种方法都可以代表一列：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 会返回本列的 Series</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.name</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.Q1</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># df.1Q 即使列名叫 1Q 也无法使用</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># df.my name 有空格也无法调用，可以处理加上下划线</span></span></code></pre></div><p>注意，当列名为一个合法的 python 变量时可以直接作为属性去使用。</p><h2 id=选择行列部分>选择行列部分<a href=#选择行列部分 class=heading-anchor-link aria-label="Link to 选择行列部分"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>有时我们需要按条件选择部分列、部分行，一般常用的有：</p><table><thead><tr><th>操作</th><th>语法</th><th>返回结果</th></tr></thead><tbody><tr><td>选择列</td><td><code>df[col]</code></td><td>Series</td></tr><tr><td>按索引选择行</td><td><code>df.loc[label]</code></td><td>Series</td></tr><tr><td>按数字索引选择行</td><td><code>df.iloc[loc]</code></td><td>Series</td></tr><tr><td>使用切片选择行</td><td><code>df[5:10]</code></td><td>DataFrame</td></tr><tr><td>用表达式筛选行</td><td><code>df[bool_vec]</code></td><td>DataFrame</td></tr></tbody></table><p>接下来我们将重点介绍一下这些查询的方法。</p><h2 id=切片->切片 []<a href=#切片- class=heading-anchor-link aria-label="Link to 切片 []"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>我们可以像列表那样利用切片功能选择部分行的数据，但是不支持索引一条：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 前两行数据</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[:] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 所有数据，一般没这么用的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 按步长取</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s[::</span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 反转顺序</span></span></code></pre></div><p>也可以选择列：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 只要一列，Series</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 选择两列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 选择一列，返回 DataFrame，注意和上例区别</span></span></code></pre></div><h2 id=按标签-loc>按标签 .loc<a href=#按标签-loc class=heading-anchor-link aria-label="Link to 按标签 .loc"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p><code>df.loc()</code> 的格式为 df.loc[&#x3C;索引表达式>, &#x3C;列表达式>]，表达式支持以下形式：</p><p>单个标签:</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 代表索引，如果是字符需要加引号</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 选择索引为 0 的行</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span></code></pre></div><p>单个列表标签：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 指定索引 0，5，10 的行</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Eli'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Ben'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 如果索引是 name</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 真假选择，长度要和索引一样</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span><span style=color:#d73a49;--shiki-dark:#F97583>*</span><span style=color:#005cc5;--shiki-dark:#79B8FF>50</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 为真的列显示，隔一个显示一个</span></span></code></pre></div><p>带标签的切片（包括起始和停止）：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引切片, 代表0-5行，包括5</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2010'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2014'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 如果索引是时间可以用字符查询</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 所有</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 本方法支持 Series</span></span></code></pre></div><p>列筛选，必须有行筛选：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dft.loc[:, [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 所有行，Q1 和 Q2两列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dft.loc[:, [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 所有行，Q1 和 Q2两列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>dft.loc[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>10</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 0-10 行，Q1后边的所有列</span></span></code></pre></div><h2 id=按位置-iloc>按位置 .iloc<a href=#按位置-iloc class=heading-anchor-link aria-label="Link to 按位置 .iloc"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p><code>df.iloc</code> 与 <code>df.loc</code> 相似，但只能用自然索引（行和列的 0 - n 索引），不能用标签。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.iloc[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.iloc[:]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.iloc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>20</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.iloc[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span></code></pre></div><h2 id=取具体值-at>取具体值 .at<a href=#取具体值-at class=heading-anchor-link aria-label="Link to 取具体值 .at"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>类似于 loc, 但仅取一个具体的值，结构为 at[&#x3C;索引>,&#x3C;列名>]：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 注：索引是字符需要加引号</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.at[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 65</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.at[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'lily'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 65 假定索引是 name</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.at[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'Liver'</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>].at[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'Liver'</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 指定列的值对应其他列的值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>).at[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Eorge'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'team'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'C'</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.set_index(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>).team.at[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Eorge'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'C'</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 指定列的对应索引的值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.team.at[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'C'</span></span></code></pre></div><p>同样 iat 和 iloc 一样，仅支持数字索引：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.iat[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 65</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>].iat[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'E'</span></span></code></pre></div><p>.get 可以做类似字典的操作，如果无值给返回默认值（例中是0）：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.get(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'name'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 是 name 列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.get(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'nameXXX'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 0, 返回默认值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.get(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 93, Series 传索引返回具体值</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.name.get(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>99</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 'Ben'</span></span></code></pre></div><h2 id=表达式筛选>表达式筛选<a href=#表达式筛选 class=heading-anchor-link aria-label="Link to 表达式筛选"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p><code>[]</code> 切片里可以使用表达式进行筛选：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1 等于8</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#d73a49;--shiki-dark:#F97583>~</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不等于8</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.name </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#032f62;--shiki-dark:#9ECBFF> 'Ben'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 姓名为Ben</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:]  </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1 大于90，只显示 Q1</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[(df.Q1 </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (df.Q2 </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 15</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)] </span><span style=color:#6a737d;--shiki-dark:#6A737D># and 关系</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[(df.Q1 </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> (df.Q2 </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x3C;</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)] </span><span style=color:#6a737d;--shiki-dark:#6A737D># or 关系</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.Q1 </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.Q2]</span></span></code></pre></div><p><code>df.loc</code> 里的索引部分可以使用表达式进行数据筛选。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 等于8</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[df.Q1 </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 等于8</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1 大于90，只显示 Q1</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 其他表达式与切片一致</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:, </span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df: df.columns.str.len()</span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 真假组成的序列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:, </span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df: [i </span><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>in</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.columns </span><span style=color:#d73a49;--shiki-dark:#F97583>if</span><span style=color:#032f62;--shiki-dark:#9ECBFF> 'Q'</span><span style=color:#d73a49;--shiki-dark:#F97583> in</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 列名列表</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.iloc[:</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df: df.columns.str.len()</span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 真假组成的序列</span></span></code></pre></div><p>逻辑判断和函数：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.eq() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 等于相等 ==</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.ne() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不等于 !=</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.le() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 小于等于 >=</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.lt() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 小于 &#x3C;</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.ge() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 大于等于 >=</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.gt() </span><span style=color:#6a737d;--shiki-dark:#6A737D># 大于 ></span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 都支持  axis{0 or ‘index’, 1 or ‘columns’}, default ‘columns’</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.Q1.ne(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>89</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1 不等于8</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[df.Q1.gt(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>&#x26;</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.Q2.lt(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)] </span><span style=color:#6a737d;--shiki-dark:#6A737D># and 关系 Q1>90 Q2&#x3C;90</span></span></code></pre></div><p>其他函数：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># isin</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.team.isin([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'A'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'B'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 包含 AB 两组的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.isin({</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'team'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'C'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'D'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>36</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>93</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]})] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 复杂查询，其他值为 NaN</span></span></code></pre></div><h2 id=函数筛选>函数筛选<a href=#函数筛选 class=heading-anchor-link aria-label="Link to 函数筛选"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df: df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1为8的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[</span><span style=color:#d73a49;--shiki-dark:#F97583>lambda</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df: df.Q1 </span><span style=color:#d73a49;--shiki-dark:#F97583>==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># Q1为8的, 显示 Q1 Q2</span></span></code></pre></div><h2 id=where-和-mask>where 和 mask<a href=#where-和-mask class=heading-anchor-link aria-label="Link to where 和 mask"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.where(s </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不符合条件的为 NaN</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.where(s </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 不符合条件的为 0</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># np.where, 大于80是真否则是假</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>np.where(s</span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF>80</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>False</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>np.where(df.num</span><span style=color:#d73a49;--shiki-dark:#F97583>>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>60</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'合格'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'不合格'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.mask(s </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 符合条件的为 NaN</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>s.mask(s </span><span style=color:#d73a49;--shiki-dark:#F97583>></span><span style=color:#005cc5;--shiki-dark:#79B8FF> 90</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 符合条件的为 0</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 例：能被整除的显示，不能的显示相反数</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>m </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.loc[:,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q4'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>%</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 3</span><span style=color:#d73a49;--shiki-dark:#F97583> ==</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q4'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>].where(m, </span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q4'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 行列相同数量，返回一个 array</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.lookup([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q3'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># array([36, 96, 61])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.lookup([</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># array([36])</span></span></code></pre></div><h2 id=query>query<a href=#query class=heading-anchor-link aria-label="Link to query"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 > Q2 > 90'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 直接写类型 sql where 语句</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 + Q2 > 180'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 == Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'(Q1&#x3C;50) &#x26; (Q2>40) and (Q3>90)'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 > Q2 > Q3 > Q4'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'team != "C"'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'team not in ("E","A","B")'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 对于名称中带有空格的列，可以使用反引号引起来</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'B == `team name`'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 支持传入变量，如：大于平均分40分的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>a </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.Q1.mean()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 > @a+40'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.query(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1 > `Q2`+@a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># df.eval() 用法与 df.query 类似</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.eval(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"Q1 > 90 > Q3 > 10"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[df.eval(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>"Q1 > `Q2`+@a"</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)]</span></span></code></pre></div><h2 id=filter>filter<a href=#filter class=heading-anchor-link aria-label="Link to filter"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>使用 filter 可以对行名和列名进行筛选。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>items</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 选择两列</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>regex</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 列名包含Q的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>regex</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'e$'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 以 e 结尾的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>regex</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'1$'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 正则, 索引名包含1的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>like</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 索引中有2的</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 索引中2开头列名有Q的</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>regex</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'^2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>).filter(</span><span style=color:#e36209;--shiki-dark:#FFAB70>like</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Q'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><p>上面两个来自于<a href=https://www.gairuo.com/ rel="nofollow noopener noreferrer external" target=_blank>https://www.gairuo.com/</a></p><h1 id=合并与新增行列>合并与新增行列<a href=#合并与新增行列 class=heading-anchor-link aria-label="Link to 合并与新增行列"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h1><h2 id=新增列>新增列<a href=#新增列 class=heading-anchor-link aria-label="Link to 新增列"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><p>假设原始数据如下：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pandas </span><span style=color:#d73a49;--shiki-dark:#F97583>as</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> numpy </span><span style=color:#d73a49;--shiki-dark:#F97583>as</span><span style=color:#24292e;--shiki-dark:#E1E4E8> np</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.DataFrame({</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'num_legs'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'num_wings'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]},</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>                  index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'dog'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'hawk'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>slen </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> len</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'num_legs'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span></code></pre></div><p>1）直接赋值</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'a'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Series(np.random.randn(slen), </span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index) </span><span style=color:#6a737d;--shiki-dark:#6A737D># index要记得添加</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'b'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> None</span><span style=color:#6a737d;--shiki-dark:#6A737D> # 添加一列值为None</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'c'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 添加列表数据</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># c1和c3列的顺序是一样的， c2则与之相反，具体看下文</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'c1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'no'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'yes'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'c2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Series([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'no'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'yes'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'c3'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Series([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'no'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'yes'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index)</span></span></code></pre></div><p>2）loc方法</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:,</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'d'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.Series(np.random.randn(slen), </span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.loc[:, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'d'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]</span></span></code></pre></div><p>3）insert方法</p><p><em>insert方法使用的列名不能有重复值，连更新都不能</em></p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.insert(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>len</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(df.columns), </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'e'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, pd.Series(np.random.randn(slen)), </span><span style=color:#e36209;--shiki-dark:#FFAB70>index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.index)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.insert(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>len</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(df.columns), </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ee'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span></code></pre></div><p>4）assign方法</p><p>assign方法参数可以是Series、标量、列表，还可以同时添加多列</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.assign(</span><span style=color:#e36209;--shiki-dark:#FFAB70>f</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.num_wings.mean())  </span><span style=color:#6a737d;--shiki-dark:#6A737D># 将num_wings这列的平均值作为新增列f的结果</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> df.assign(</span><span style=color:#e36209;--shiki-dark:#FFAB70>A</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>df.num_wings.sum(), </span><span style=color:#e36209;--shiki-dark:#FFAB70>B</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])  </span><span style=color:#6a737d;--shiki-dark:#6A737D># 新增列A和B</span></span></code></pre></div><p>5）concat方法</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.concat([df, pd.Series([</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'yes'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'yes'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]).rename(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'t'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)], </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 增加列t</span></span></code></pre></div><p>注意点：</p><ul><li>每个方法的参数都可以是Series、标量、列表</li><li>insert方法中新增的列名不能跟已有的一样，即使更新刚刚新增的列也会出错</li><li><code>df['a']=pd.Series(['no', 'yes']</code>的index顺序如果被修改，默认是以Series的index为准，可以通过<code>index=df.index</code>来指定按照原始DataFrame的index顺序</li></ul><h2 id=新增行>新增行<a href=#新增行 class=heading-anchor-link aria-label="Link to 新增行"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pandas </span><span style=color:#d73a49;--shiki-dark:#F97583>as</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>import</span><span style=color:#24292e;--shiki-dark:#E1E4E8> numpy </span><span style=color:#d73a49;--shiki-dark:#F97583>as</span><span style=color:#24292e;--shiki-dark:#E1E4E8> np</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># 创建空白DataFrame</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.DataFrame(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'lib'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span></code></pre></div><p>1）使用loc</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> i </span><span style=color:#d73a49;--shiki-dark:#F97583>in</span><span style=color:#005cc5;--shiki-dark:#79B8FF> range</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>):</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    df.loc[i] </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [np.random.randint(</span><span style=color:#d73a49;--shiki-dark:#F97583>-</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> n </span><span style=color:#d73a49;--shiki-dark:#F97583>in</span><span style=color:#005cc5;--shiki-dark:#79B8FF> range</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)]</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>    # df.loc[i] = 5 添加一条数据都为5的记录</span></span></code></pre></div><p>2）使用append</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.append({</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'lib'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>}, </span><span style=color:#e36209;--shiki-dark:#FFAB70>ignore_index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D># append也可以直接添加DataFrame</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df2 </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.DataFrame([[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]], </span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'lib'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty1'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>'qty2'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>])</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df.append(df2, </span><span style=color:#e36209;--shiki-dark:#FFAB70>ignore_index</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)  </span><span style=color:#6a737d;--shiki-dark:#6A737D># ignore_index设置为True，index将会忽略df2的index</span></span></code></pre></div><p>3）重新生成DataFrame</p><p>循环将要添加的数据以字典的形式保存到一个列表中，在用列表创建出DataFrame</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>row_list </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [] </span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>input_rows </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> [[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]] </span><span style=color:#6a737d;--shiki-dark:#6A737D># 待插入数据</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>for</span><span style=color:#24292e;--shiki-dark:#E1E4E8> row </span><span style=color:#d73a49;--shiki-dark:#F97583>in</span><span style=color:#24292e;--shiki-dark:#E1E4E8> input_rows:</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    dict1 </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF> dict</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(</span><span style=color:#e36209;--shiki-dark:#FFAB70>lib</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>row[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>qty1</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>row[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>qty2</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>row[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 将数据转为字典</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    row_list.append(dict1) </span><span style=color:#6a737d;--shiki-dark:#6A737D># 保存到列表中</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>df </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.DataFrame(row_list)</span></span></code></pre></div><p>以上两个来源于<a href=https://amberwest.github.io/ rel="nofollow noopener noreferrer external" target=_blank>https://amberwest.github.io/</a></p><h2 id=合并>合并<a href=#合并 class=heading-anchor-link aria-label="Link to 合并"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h2><h3 id=append-vs-concat>append() Vs. concat()<a href=#append-vs-concat class=heading-anchor-link aria-label="Link to append() Vs. concat()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>连接或者合并DataFrame的时候一般有两种方式：纵向和横向。听起来总是觉得有点迷迷糊糊的。通俗的解释就是，纵向就是把两个或多个DataFrame纵向（从上到下）连接到一个DataFrame当中，index和column有重复情况也不进行任何操作，就是粗暴的纵向拼接DataFrame。横向就是会考虑如果有相同的index的话就会把相同index上所有列的数据合并在一起了，简单点理解就是相当于使用Excel中的V-lookup在两张有相同id但不同数据的表中进行了数据的融合。连接与合并DataFrame的常用函数有两个<code>append()</code>,<code>concat()</code>还有<code>merge()</code>。其中append()只能进行纵向连接，而<code>concat()</code>和<code>merge()</code>可以进行both。<code>concat()</code>默认是进行纵向连接，也就是跟<code>append()</code>效果一样，如果想要使用<code>concat()</code>进行横向合并则需要在<code>concat()</code>中声明变量axis。默认值：<code>concat(axis=0)</code>纵向连接，<code>concat(axis=1)</code>横向合并。下面举几个例子：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'population_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'unemployment_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>print</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(population)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>               |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip Code </span><span style=color:#005cc5;--shiki-dark:#79B8FF>ZCTA</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#d73a49;--shiki-dark:#F97583>                        |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>          |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>print</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(unemployment)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip   </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447</span><span style=color:#d73a49;--shiki-dark:#F97583>        |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42</span><span style=color:#d73a49;--shiki-dark:#F97583>           |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span></code></pre></div><p>以上为两个数据文件中数据的情况，下面讲举例说明append()和concat(axis=0)默认值对DataFrame纵向连接的结果，两种方式得到的结果是完全相同的：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population.append(unemployment)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population participants unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------------------------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population participants unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------------------------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span></code></pre></div><p>这里我们可以看到zip邮编下的”2860”出现了两次。如果我们想把相同zip下两个DataFrame的数据信息合并，我们就得用到横向合并，concat()提供了一个非常方便的办法就是concat(axis=1)或者concat(axis=’columns’)就可以实现横向合并了：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>7</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>17</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population participants unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------------------------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span></code></pre></div><h3 id=concat-vs-merge>concat() Vs. merge()<a href=#concat-vs-merge class=heading-anchor-link aria-label="Link to concat() Vs. merge()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>在上面说完了<code>concat()</code>和<code>append()</code>横向纵向的连接与合并之后，下面要说一下<code>concat()</code>和<code>merge()</code>的区别和关系。上面我们说了<code>concat()</code>和<code>merge()</code>都可以进行横纵向的合并，在用法上和输出结果上两者有一些区别。这里要引入join的概念。<code>concat()</code>的默认join方式是outer join，而<code>merge()</code>的默认join方式是inner join。另外<code>concat()</code>和<code>merge()</code>在合并DataFrame的时候还有一个重要的区别就是，<code>concat()</code>是通过index来合并的，而<code>merge()</code>是通过列明（column label ）来合并的，如果列名设置成为了index的话需要把用来合并列名的index去掉之后再进行合并，否则会出现KeyError错误提示找不到列名。下面继续使用population和unemployment两个DataFrame来进行相关展示：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'population_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'unemployment_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>print</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(population)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>               |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip Code </span><span style=color:#005cc5;--shiki-dark:#79B8FF>ZCTA</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#d73a49;--shiki-dark:#F97583>                        |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>          |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>print</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(unemployment)</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip   </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447</span><span style=color:#d73a49;--shiki-dark:#F97583>        |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42</span><span style=color:#d73a49;--shiki-dark:#F97583>           |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D>#pd.concat(join='outer')默认值为outer</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>3</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population participants unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------------------------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                            |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                                              </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>join</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'inner'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D>#pd.concat(join='outer')默认值为outer，这里把join设置成了inner</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>4</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population participants unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------------------------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                                          |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span></code></pre></div><p>接下来是对相同df进行merge操作：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'population_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.read_csv(</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'unemployment_00.csv'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>index_col</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>0</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    </span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#这里的导入我们还是设置了第一列ZipCode和Zip为各df的index，然后看一下使用merge()的时候会出现什么情况</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.merge(population, unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>left_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ZipCode'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>right_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Zip'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>5</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span><span style=color:#005cc5;--shiki-dark:#79B8FF>KeyError</span><span style=color:#24292e;--shiki-dark:#E1E4E8>: </span><span style=color:#032f62;--shiki-dark:#9ECBFF>"None of ['ZipCode'] are in the columns"</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>        </span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#因为ZipCode被设置成了index所以merge找不到该列名，无法进行merge，我们可以.reset_index()，或者在导入数据的时候不设置index就可以解决该问题。</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> population.reset_index()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment.reset_index()</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.merge(population, unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>left_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ZipCode'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>right_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Zip'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>    </span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#pd.merge(how='inner')默认值为inner，merge()的合并方式参数是how不是join</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>6</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ZipCode </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip  </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>    |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447</span><span style=color:#d73a49;--shiki-dark:#F97583>        |</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#merge的join和concat的join出来的结果会有一些不同，concat出来的df没有index，merge出来的df会有默认index和两个df合并的的列ZipCode和Zip</span></span>
<span class=line></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>7</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: pd.merge(population, unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>left_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ZipCode'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>right_on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Zip'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>,</span></span>
<span class=line><span style=color:#e36209;--shiki-dark:#FFAB70>               how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'outer'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>7</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: </span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ZipCode </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538.0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916.0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660.0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 3</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860.0</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860.0</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167.0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 5</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097.0</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 6</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN     </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808.0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#这里有点奇怪，ZipCode和Zip经过outer join之后变成了float类型。</span></span></code></pre></div><p>我暂且认为更改ZipCode和Zip的这个行为是个bug，并且已经提交给git了。可以看下之后的反馈：<a href=https://github.com/pandas-dev/pandas/issues/34017 rel="nofollow noopener noreferrer external" target=_blank>https://github.com/pandas-dev/pandas/issues/34017</a></p><p>当然还是有一些办法去解决这个问题，可是使用会concat()方法来进行合并，或者我们可以通过统一两个DataFrame邮编的label来使用on= [‘Zip’]来进行合并，实验表明通过on= [‘Zip’]进行合并不会出现上述问题：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population.rename(</span><span style=color:#e36209;--shiki-dark:#FFAB70>columns</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>{</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ZipCode'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>:</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Zip'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>}, </span><span style=color:#e36209;--shiki-dark:#FFAB70>inplace</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>True</span><span style=color:#24292e;--shiki-dark:#E1E4E8>) </span><span style=color:#6a737d;--shiki-dark:#6A737D>#更改population中的column label</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: merge_2 </span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8> pd.merge(population, unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'Zip'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'outer'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#005cc5;--shiki-dark:#79B8FF>print</span><span style=color:#24292e;--shiki-dark:#E1E4E8>(merge_2)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>8</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip   </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 3</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 5</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42.0</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 6</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310.0</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span></span></code></pre></div><h3 id=join-vs-concat>join() Vs. concat()<a href=#join-vs-concat class=heading-anchor-link aria-label="Link to join() Vs. concat()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p>join有四种合并方法，分别是<code>how='left</code>‘, <code>how='right'</code>, <code>how='inner'</code>和<code>how='outer'</code>。当然这些合并方法<code>merge()</code>也是全部都有的。所以看到这里也应该对<code>append()</code>, <code>concat()</code>, <code>join()</code>和<code>merge()</code>有很充分的理解了。<code>merge()</code>是四个函数里面最强大的，但是在使用原则上来讲并不是每次对数据操作都要用<code>merge()</code>，有时候<code>append()</code>和<code>concat()</code>使用起来可能会更加方便，在最后会总结一下这四个函数的分类和原则。这里先看一下<code>join()</code>的实际操作：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population.join(unemployment) </span><span style=color:#6a737d;--shiki-dark:#6A737D>#join的默认合并方式是how='left'</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> ZipCode </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>                        |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 57538</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 322</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 59916</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 130</span><span style=color:#d73a49;--shiki-dark:#F97583>                    |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 37660</span><span style=color:#d73a49;--shiki-dark:#F97583>   |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 40038</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN          </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>    |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199</span><span style=color:#d73a49;--shiki-dark:#F97583>                  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447.0</span><span style=color:#d73a49;--shiki-dark:#F97583>      |</span></span></code></pre></div><p>df1.join(df2, how=’left’)的意思是指以左边的DataFrame为准进行合并，population在unemployment左边，所以这个合并就会以population的index也就是ZipCode为准进行合并。所以df1.join(df2, how=’right’)就会以unemployment的index进行合并：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>In [</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]: population.join(unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF> 'right'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>Out[</span><span style=color:#005cc5;--shiki-dark:#79B8FF>2</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]:</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>       |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2010</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Census Population </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> unemployment </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> participants </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------</span><span style=color:#d73a49;--shiki-dark:#F97583>-|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>------------------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#b31d28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>--------------</span><span style=color:#d73a49;--shiki-dark:#F97583>|</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#24292e;--shiki-dark:#E1E4E8> Zip   </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#d73a49;--shiki-dark:#F97583>                        |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span><span style=color:#d73a49;--shiki-dark:#F97583>              |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 2860</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 45199.0</span><span style=color:#d73a49;--shiki-dark:#F97583>                |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.11</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 34447</span><span style=color:#d73a49;--shiki-dark:#F97583>        |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 46167</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.02</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4800</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 1097</span><span style=color:#d73a49;--shiki-dark:#F97583>  |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.33</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 42</span><span style=color:#d73a49;--shiki-dark:#F97583>           |</span></span>
<span class=line><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 80808</span><span style=color:#d73a49;--shiki-dark:#F97583> |</span><span style=color:#24292e;--shiki-dark:#E1E4E8> NaN                    </span><span style=color:#d73a49;--shiki-dark:#F97583>|</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 0.07</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span><span style=color:#005cc5;--shiki-dark:#79B8FF> 4310</span><span style=color:#d73a49;--shiki-dark:#F97583>         |</span></span></code></pre></div><p>join和concat都是要以index来进行合并，所以在合并时，必须要有对应的index。concat相比join缺少了left和right两种合并方式，但是在outer和inner合并方式来讲得到的结果是一模一样的：</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>population.join(unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'outer'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>join</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'outer'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#以上两者结果相同</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>population.join(unemployment, </span><span style=color:#e36209;--shiki-dark:#FFAB70>how</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'inner'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.concat([population, unemployment], </span><span style=color:#e36209;--shiki-dark:#FFAB70>join</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'inner'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#e36209;--shiki-dark:#FFAB70>axis</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#005cc5;--shiki-dark:#79B8FF>1</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span>
<span class=line><span style=color:#6a737d;--shiki-dark:#6A737D>#以上两者结果相同</span></span></code></pre></div><h3 id=append-concat-join和merge总结>append(), concat(), join()和merge()总结<a href=#append-concat-join和merge总结 class=heading-anchor-link aria-label="Link to append(), concat(), join()和merge()总结"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><h4 id=append>append()<a href=#append class=heading-anchor-link aria-label="Link to append()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h4><p>语法：<code>df1.append(df2)</code></p><p>说明：<code>append()</code>就是简单的把两个DataFrame纵向罗列起来，<strong>不需要index</strong>。</p><h4 id=concat>concat()<a href=#concat class=heading-anchor-link aria-label="Link to concat()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h4><p>语法：<code>pd.concat([df1, df2])</code></p><p>说明：<code>concat()</code>可以横纵向合并多行或者多列，可以使用inner或者outer方式来合并，<strong>需要index</strong>。</p><h4 id=join>join()<a href=#join class=heading-anchor-link aria-label="Link to join()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h4><p>语法：<code>df1.join(df2)</code></p><p>说明：<code>join()</code>可以使用多种合并方式，除了inner和outer之外还可以用left和right，这些操作同样<strong>需要index</strong>。</p><h4 id=merge>merge()<a href=#merge class=heading-anchor-link aria-label="Link to merge()"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h4><p>语法：<code>pd.merge([df1, df2])</code></p><p>说明：方式最多的合并函数。<strong>不需要index。</strong></p><h3 id=merge_order函数>merge_order()函数<a href=#merge_order函数 class=heading-anchor-link aria-label="Link to merge_order()函数"><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M2.6 21.4c2 2 5.9 2.9 8.9 0l3.5-3.5-1-1-3.5 3.5c-1.4 1.4-4.2 1.9-6.4-.3s-1.8-5-.3-6.4l3.5-3.5-1-1-3.5 3.5c-3 3-2 6.9 0 8.9ZM21.4 2.6c2 2 2.9 5.9 0 8.9L17.9 15l-1-1 3.5-3.5c1.4-1.4 1.9-4.2-.3-6.4s-5-1.8-6.4-.3l-3.5 3.5-1-1 3.5-3.5c3-3 6.9-2 8.9 0Z"></path><path d="m8.01 14.97 6.93-6.93 1.061 1.06-6.93 6.93z"></path></svg></a></h3><p><code>merge_order()</code>函数可以用一个函数进行两个操作，即<code>merge()</code>和<code>sort_value()</code>。</p><div class=code-block-wrapper><button aria-label="Copy code" class=code-copy-button type=button></button><pre class="astro-code astro-code-themes github-dark github-light" data-copy-button-added=true data-language=python style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e;--shiki-dark:#E1E4E8>pd.merge_ordered(hardware, software, </span><span style=color:#e36209;--shiki-dark:#FFAB70>on</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>], </span><span style=color:#e36209;--shiki-dark:#FFAB70>suffixes</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#24292e;--shiki-dark:#E1E4E8>[</span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>, </span><span style=color:#032f62;--shiki-dark:#9ECBFF>''</span><span style=color:#24292e;--shiki-dark:#E1E4E8>]，</span><span style=color:#e36209;--shiki-dark:#FFAB70>fill_method</span><span style=color:#d73a49;--shiki-dark:#F97583>=</span><span style=color:#032f62;--shiki-dark:#9ECBFF>'ffill'</span><span style=color:#24292e;--shiki-dark:#E1E4E8>)</span></span></code></pre></div><p>来自于<a href=https://mingju.net/2020/05/merging-dataframes-with-pandas/ rel="nofollow noopener noreferrer external" target=_blank>https://mingju.net/2020/05/merging-dataframes-with-pandas/</a></p><div id=post-copyright></div><div class="mt-12.6 uno-decorative-line"></div><div class="no-heti flex flex-wrap gap-x-3 gap-y-3.2"><a href=/tags/Research/ class="hover:c-primary border border-secondary/25 ease-out hover:border-secondary/80 hover:font-medium hover:ring-0.2 inline-block px-3.2 py-0.7 relative ring-0 ring-secondary/80 rounded-full transition-[colors,box-shadow]"><span class="flex absolute inset-0 items-center justify-center transition-font-weight whitespace-nowrap">Research </span><span class="inline-block font-medium opacity-0" aria-hidden=true>Research </span></a><a href=/tags/python/ class="hover:c-primary border border-secondary/25 ease-out hover:border-secondary/80 hover:font-medium hover:ring-0.2 inline-block px-3.2 py-0.7 relative ring-0 ring-secondary/80 rounded-full transition-[colors,box-shadow]"><span class="flex absolute inset-0 items-center justify-center transition-font-weight whitespace-nowrap">python </span><span class="inline-block font-medium opacity-0" aria-hidden=true>python</span></a></div></div></article></main><footer class="leading-1.25em font-navbar lg:text-3.5 text-3" lg="uno-desktop-column bottom-20"><p><a href=/atom.xml/ class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>RSS</a>&nbsp;/ <a href=https://github.com/lifeodyssey class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>GitHub</a>&nbsp;/ <a href=mailto:email@radishzz.cc class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Email</a>&nbsp;</p><p>© 2025-2026 周大侠</p><p>Powered by <a href=https://astro.build/ class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Astro</a> and <a href=https://github.com/radishzzz/astro-theme-retypeset class="highlight-hover hover:c-primary after:bottom-0.35em py-0.8 transition-colors" rel="noopener noreferrer" target=_blank>Retypeset</a></p></footer></div><div class="flex absolute gap-6 lg:bottom-[min(10.27rem+1.92vw,12rem)] lg:fixed lg:right-[max(5rem,calc(50vw-35rem))] lg:top-auto lg:w-14rem min-[823px]:max-lg:right-[calc(50vw-22rem)] right-7.25vw top-14.6"><a href=/posts/50bcdc38.html.html/ class="hover:c-primary active:scale-90 aspect-square c-secondary w-4" aria-label="Switch website language" id=language-switcher><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M19.18 21.1 12.4 1.89h-1.21L4.52 21.1l-2.53.2v.81h6.37v-.81l-2.83-.2 2.02-5.97h7.58l2.02 5.97-3.34.2v.81H22v-.81l-2.83-.2zM7.85 14.33l3.44-10.21 3.54 10.21z"/></svg> </a><button aria-label="Switch light/dark theme" class="hover:c-primary active:scale-90 aspect-square c-secondary w-4" id=theme-toggle-button><svg aria-hidden=true fill=currentColor viewBox="0 0 24 24"><path d="M12.06.61C5.66.61.46 5.71.46 12.11s5.1 11.5 11.6 11.5 11.5-5.1 11.5-11.5S18.46.61 12.06.61m0 21c-6.07 0-10.94-4.2-10.94-9.5s4.87-9.4 10.94-9.4S23 6.91 23 12.21s-4.88 9.4-10.94 9.4"/></svg></button></div><script>!function(){const e="oklch(96% 0.005 298)",t="oklch(22% 0.005 298)";function n(n){document.documentElement.classList.toggle("dark",n);const o=document.head.querySelector('meta[name="theme-color"]');o&&e&&t&&o.setAttribute("content",n?t:e),localStorage.setItem("theme",n?"dark":"light"),document.dispatchEvent(new Event("theme-changed"))}function o(){n(!document.documentElement.classList.contains("dark"))}document.addEventListener("click",(function(e){const t=e.target instanceof Element?e.target:null,n=t?.closest("#theme-toggle-button");if(!n)return;if(document.documentElement.classList.contains("reduce-motion"))return void o();document.documentElement.style.setProperty("view-transition-name","animation-theme-toggle"),document.documentElement.setAttribute("data-theme-changing",""),document.startViewTransition(o).finished.then((()=>{document.documentElement.style.removeProperty("view-transition-name"),document.documentElement.removeAttribute("data-theme-changing")}))}),{passive:!0}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{n(e.matches)}))}()</script><script type=module>const o={click:"tap",typing:"type"},l={[o.click]:.8,[o.typing]:.4},d=["#language-switcher","#theme-toggle-button"],f=[".el-input__inner",".el-textarea__inner","#wl-nick","#wl-mail","#wl-link","#wl-edit"],h=new Set(["Shift","Control","Alt","Meta","Tab","Escape","CapsLock"]),p=d.join(","),g=f.join(",");function r(){return window.matchMedia("(max-width: 1023px)").matches}function w(){return document.head.querySelector('link[rel="sitemap"]')?.getAttribute("href")?.replace("/sitemap-index.xml","")||""}class y{audioContext=null;audioBuffers={[o.click]:[],[o.typing]:[]};initPromise=null;async fetchAndCacheSound(t,e){if(!this.audioContext)throw new Error("Audio context not initialized");const n=`${t}_0${e+1}`,i=await(await fetch(`${w()}/sounds/${n}.wav`)).arrayBuffer(),a=await this.audioContext.decodeAudioData(i);this.audioBuffers[t].push(a)}async preloadAllSounds(){const t=Object.values(o).flatMap((t=>Array.from({length:5},((e,n)=>this.fetchAndCacheSound(t,n)))));await Promise.allSettled(t)}async initialize(){return this.initPromise??=(async()=>{const t=window.AudioContext||window.webkitAudioContext;this.audioContext=new t,await this.preloadAllSounds()})()}async playSound(t){try{if(await this.initialize(),!this.audioContext)return;"suspended"===this.audioContext.state&&await this.audioContext.resume();const e=this.audioBuffers[t];if(0===e.length)return;const n=this.audioContext.createBufferSource();n.buffer=e[Math.floor(Math.random()*e.length)];const i=this.audioContext.createGain();i.gain.value=l[t],n.connect(i).connect(this.audioContext.destination),n.start(0)}catch(t){console.warn("Sound playback failed:",t)}}}const c=new y;function m(t){r()||!t.target?.closest(p)||c.playSound(o.click)}function x(t){r()||t.ctrlKey||t.altKey||t.metaKey||h.has(t.key)||!t.target?.closest(g)||c.playSound(o.typing)}document.addEventListener("click",m,{passive:!0}),document.addEventListener("keydown",x,{passive:!0})</script><script type=module>const s={copy:'<svg\n      viewBox="0 0 24 24"\n      fill="currentColor"\n    >\n      <path d="M6.9.8v18h14.5V.8zm12.8 16h-11v-14h11z"/>\n      <path d="M4.3 21.2V5.6l-1.7.5v17.1h14.3l.6-2z"/>\n    </svg>',success:'<svg\n      viewBox="0 0 24 24"\n      fill="currentColor"\n    >\n      <path d="m23.1 6.4-1.3-1.3L9.4 16.6l-6.3-5.4-1.2 1.2L9.4 20z"/>\n    </svg>'},o=new WeakMap;function r(){const e=document.querySelectorAll(".code-copy-button");0!==e.length&&e.forEach((e=>{e.innerHTML=s.copy}))}async function a(e){if(e.classList.contains("copy-success"))return;const t=e.parentElement?.querySelector("pre code"),n=t?.textContent??"";if(t&&n)try{await navigator.clipboard.writeText(n);const t=o.get(e);t&&clearTimeout(t),e.innerHTML=s.success,e.classList.add("copy-success");const c=setTimeout((()=>{e.isConnected&&(e.innerHTML=s.copy,e.classList.remove("copy-success"),o.delete(e))}),1500);o.set(e,c)}catch(e){console.error("Failed to copy code",e)}}function l(e){const t=e.target instanceof Element&&e.target.closest(".code-copy-button");t&&a(t)}document.addEventListener("astro:page-load",r),document.addEventListener("click",l,{passive:!0}),r()</script><script type=module>async function p(t){const e=t.dataset.repo;if(!e)return;const o=t.getElementsByClassName("gc-owner-avatar")[0],n=t.getElementsByClassName("gc-repo-description")[0],s=t.getElementsByClassName("gc-stars-count")[0],a=t.getElementsByClassName("gc-forks-count")[0],r=t.getElementsByClassName("gc-license-info")[0];function c(t){const e=new Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:1});o&&t.owner?.avatar_url&&(o.style.backgroundImage=`url(${t.owner.avatar_url})`),n&&(n.textContent=t.description??"No description"),s&&(s.textContent=e.format(t.stargazers_count??0)),a&&(a.textContent=e.format(t.forks_count??0)),r&&(r.textContent=t.license?.spdx_id??"No License")}const i=`github-repo-${e}`,m=sessionStorage.getItem(i);if(m){c(JSON.parse(m))}else try{const t=await fetch(`https://api.github.com/repos/${e}`);if(!t.ok){if(n){const e=404===t.status?"Repository not found":"Failed to load repository data";n.textContent=e}return}const o=await t.json();sessionStorage.setItem(i,JSON.stringify(o)),c(o)}catch(t){console.error(`Failed to fetch ${e}:`,t)}}function f(){const t=document.getElementsByClassName("gc-container");0!==t.length&&Array.from(t).forEach((t=>{p(t)}))}document.addEventListener("astro:page-load",f),f()</script><script type=module src=/_astro/MediaEmbed.astro_astro_type_script_index_0_lang.wKrCMCCr.js></script><script type=module>const n={overlay:document.querySelector(".zoom-overlay"),zoomedImg:null,originalImg:null,createOverlay(){this.overlay&&this.overlay.isConnected||(this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),this.overlay.setAttribute("role","dialog"),this.overlay.setAttribute("aria-modal","true"),this.overlay.setAttribute("aria-label","Image Viewer"),this.overlay.setAttribute("tabindex","-1"),Object.assign(this.overlay.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"999",backgroundColor:"oklch(var(--un-preset-theme-colors-background) / 0.95)",opacity:"0",transition:"opacity 300ms cubic-bezier(0.4, 0, 0.2, 1)",cursor:"zoom-out",display:"none"}),document.body.appendChild(this.overlay))},zoomImg(e){if(!this.overlay)return;document.body.style.overflow="hidden";const t=e.getBoundingClientRect();this.originalImg=e,this.zoomedImg=e.cloneNode(),Object.assign(this.zoomedImg.style,{position:"fixed",top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`,transition:"transform 300ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:"1000",cursor:"zoom-out"}),document.body.appendChild(this.zoomedImg),this.overlay.style.display="block",this.overlay.focus();const o=window.innerWidth,i=window.innerHeight,s=window.innerWidth<768?1:.8,l=Math.min(o*s/t.width,i*s/t.height),a=(-t.left+(o-t.width)/2)/l,n=(-t.top+(i-t.height)/2)/l;requestAnimationFrame((()=>{this.overlay&&(this.overlay.style.opacity="1"),this.zoomedImg&&(this.zoomedImg.style.transform=`scale(${l}) translate3d(${a}px, ${n}px, 0)`)}))},close(){!this.overlay||!this.zoomedImg||!this.originalImg||(this.zoomedImg.style.transform="",this.overlay.style.opacity="0",document.body.style.overflow="",setTimeout((()=>{this.zoomedImg&&this.zoomedImg.parentNode&&document.body.removeChild(this.zoomedImg),this.zoomedImg=null,this.overlay&&(this.overlay.style.display="none"),this.originalImg&&this.originalImg.focus(),this.originalImg=null}),300))},setupOverlay(){this.createOverlay(),this.zoomedImg=null,this.originalImg=null},handleClick(e){if(this.zoomedImg)return void this.close();const t=e.target;t instanceof HTMLImageElement&&t.complete&&t.naturalWidth>=100&&t.naturalHeight>=100&&this.zoomImg(t)},handleResize(){this.zoomedImg&&this.close()},init(){this.createOverlay(),document.addEventListener("astro:page-load",(()=>this.setupOverlay())),document.addEventListener("click",(e=>this.handleClick(e)),{passive:!0}),window.addEventListener("resize",(()=>this.handleResize()),{passive:!0})}};n.init()</script></body></html>